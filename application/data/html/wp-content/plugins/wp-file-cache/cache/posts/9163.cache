O:8:"stdClass":23:{s:2:"ID";s:4:"9163";s:11:"post_author";s:1:"1";s:9:"post_date";s:19:"2012-11-12 20:58:14";s:13:"post_date_gmt";s:19:"2012-11-12 11:58:14";s:12:"post_content";s:4099:"WordPress の記事抜粋は the_excerpt() で出力できますが、&lt;head>タグ内で使いたい場合があります。<br>
<br>
たとえば、META タグの &lt;meta name="description"> とか。OGP の&lt;meta property="og:description" ?>" />とか。<br>
<br>
ただ、ページの説明として記事抜粋を使う事は理に叶っていると思いますが、普通に、WordPress のテンプレートタグ（ the_excerpt() ）を使って、
</p>

<blockquote>
&lt;meta name="description" content="&lt;?php the_excerpt() ?>" />
</blockquote>

<p>
と、出力すると不具合が出る場合があります。
</p>

<h3>どんな場合に不具合が出るのか？</h3>
<p>
記事抜粋内で &lt;a> タグなどの HTML タグを使用している場合に不具合が出ます。例えば、
</p>

<blockquote>
&lt;a href="http://myblog/archive/1234">昨日&lt;/a>に続いて MacBook Air のレビューをお届けします。
</blockquote>

<p>
のような記事抜粋にしてると NG。<br>
<br>
この例では「昨日」に昨日書いた記事へのリンクがついてますが、このように記事抜粋に何等かしらの HTML タグが付いていると、出力される META タグが、
</p>

<blockquote>
&lt;meta name="description" content="&lt;a href="http://myblog/archive/1234">昨日&lt;/a>に続いて MacBook Air のレビューをお届けします。" />
</blockquote>

<p>
のようになってしまうため、意図しない場所で"（ダブルクォーテーション）が閉じられてしまいます。<br>
<br>
この場合は、href= の後ろの"で content= が閉じられちゃう。<br>
<br>
その結果、画面の上部に意図せず閉じられた「"」以下の文字列が表示されてしまったり・・・。<br>
<br>
また、"（ダブルクォーテーション）を使わないタグであっても、タグがそのまま出力されちゃうのでよろしくない。
</p>

<h3>strip_tags() を使えばオッケー</h3>
<p>
記事抜粋の中で HTML を一切使わないようにすれば良い訳ですが、そりゃリンクを張りたい場面だってある訳で、さらに過去記事の記事抜粋で HTML タグを使ってたりすると、過去の記事をイチイチ修正するのもメッチャ手間。<br>
<br>
そこで登場するのが PHP の関数 strip_tags() です。<br>
<br>
この関数は引数に渡した文字列から HTML タグを除去してくれます。なので、
</p>

<blockquote>
&lt;meta name="description" content="&lt;?php the_excerpt() ?>" />
</blockquote>

<p>
ではなくて、
</p>

<blockquote>
&lt;meta name="description" content="&lt;?php echo strip_tags( get_the_excerpt() ); ?>" />
</blockquote>

<p>
としてあげれば、記事抜粋の HTML タグが除去されて、ちゃんと
</p>

<blockquote>
&lt;meta name="description" content="昨日に続いて MacBook Air のレビューをお届けします。" />
</blockquote>

<p>
注意する点は、strip_tags() に渡す引数は、the_excerpt() ではなくて get_the_excerpt() を渡してあげる必要があります。<br>
<br>
参考：<a href="http://wpdocs.sourceforge.jp/%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E3%82%BF%E3%82%B0/the_excerpt" target="_blank">テンプレートタグ/the excerpt - WordPress Codex 日本語版</a><br>
参考：<a href="http://elearn.jp/wpman/function/get_the_excerpt.html" target="_blank">get_the_excerpt:WordPress私的マニュアル</a><br>
<br>
また、「echo」を付けてあげないと何も出力してくれません。<br>
<br>
ということで、今は記事抜粋で HTML タグなんか使ってないもんねー、な人でも今後記事抜粋に HTML タグを書きたくなっちゃう場面も出てくると思うので、記事抜粋（ the_excerpt() ）を &lt;head>タグとかで使っている場合はとりあえず strip_tags() しておけば安心だと思います。<br>
<br>
でわでわ。
</p>";s:10:"post_title";s:95:"WordPress の記事抜粋（ the_excerpt() ) を &lt;head> タグ内で使う場合の注意点";s:12:"post_excerpt";s:195:"<!--:ja-->ページの上段に、文字列のゴミが出ちゃったりしている人はいませんか？普通に the_excerpt() を使うとゴミが出ちゃうことも・・・。<!--:-->";s:11:"post_status";s:7:"publish";s:14:"comment_status";s:4:"open";s:11:"ping_status";s:4:"open";s:13:"post_password";s:0:"";s:9:"post_name";s:191:"wordpress-%e3%81%ae%e8%a8%98%e4%ba%8b%e6%8a%9c%e7%b2%8b%ef%bc%88-the_excerpt-%e3%82%92-head-%e3%82%bf%e3%82%b0%e5%86%85%e3%81%a7%e4%bd%bf%e3%81%86%e5%a0%b4%e5%90%88%e3%81%ae%e6%b3%a8%e6%84%8f";s:7:"to_ping";s:0:"";s:6:"pinged";s:53:"
http://elearn.jp/wpman/function/get_the_excerpt.html";s:13:"post_modified";s:19:"2012-11-12 20:58:14";s:17:"post_modified_gmt";s:19:"2012-11-12 11:58:14";s:21:"post_content_filtered";s:0:"";s:11:"post_parent";s:1:"0";s:4:"guid";s:31:"http://dev.ontheroad.jp/?p=9163";s:10:"menu_order";s:1:"0";s:9:"post_type";s:4:"post";s:14:"post_mime_type";s:0:"";s:13:"comment_count";s:1:"0";}